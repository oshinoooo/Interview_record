字节推荐架构上海1面

自我介绍

你那边几点

预计什么时候回国

实习还是正式工作

为什么公司愿意让你一边工作一边上学

你想优先做c++吗？

大部分公司用c++较少，为什么选择c++

你之前写单元测试的要求是什么，有什么标准

为什么这个项目优先使用了c++，而不是java

标注接口的项目讲一下

有个项目是做了json解析与编码，讲一下

未来期望的岗位，更偏向于算法还是工程

场景1：

网购买东西，设计一个订单号生成的算法

这个订单号有哪些要求？

怎么保证生成的订单号的唯一性

如果用哈希函数生成，哈希的key是什么，能保证他的唯一性

我们要一个非常强的避免碰撞的订单号产生算法，怎么办

如果服务器来分配订单号，怎么保证刚才的问题的解决

场景2：

怎么把订单号进行持久化的操作

可以用什么数据库？

知道自动id吗

假设Mysql有个函数叫getid()，不管它内部的原理，可以生成订单号

数据生成id需要访问磁盘，性能非常低，怎么解决

场景3：

假设Mysql有个函数叫vector<int> Mysqlgetid()，不管它内部的原理，可以生成100个订单号

实现一个调用vector<int> Mysqlgetid()来实现的分配订单号的函数

如果是多线程调用的话怎么办

还有什么地方可以优化

遇到了加机器也不能提高性能的情况怎么解决

横向怎么拓展这个性能

用户感受到卡顿，有些用户1秒收到结果，有些用户10秒收到结果

多进程，也可以来拓展

怎么打高cpu

实例化多个对象也可以提高性能

-----------------------

什么时候多线程，什么时候多进程

多线程 多进程 多核 单核

用智能指针写一个double free

use_count 的类型是什么

写了一段很怪多线程代码问我有没有问题，当时人已经晕了，根本不知道他在问啥

结果最后才知道他想问我这个没加锁会不会出问题，麻了

一个shared_poiter里面持有的数据类型是什么，写出来

反问
